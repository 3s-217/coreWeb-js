!function(){"use strict";class t extends EventTarget{#t=null;updTimeout=null;lstnrs=new Map;static dc(t){return JSON.parse(JSON.stringify(t))}static nested(t,e,s,r){const n=e.split("."),i=n.pop(),o=n.reduce(((t,e)=>t[e]=t[e]??{}),t);if("set"===r)o[i]=s;else{if("rm"!==r||!o||!o.hasOwnProperty(i))return o[i];delete o[i]}}#e=new Set;#s(t){this.updTimeout&&clearTimeout(this.updTimeout),this.#e.add(t),this.updTimeout=setTimeout((()=>{this.#r()}),100)}#r(){for(const t of this.#e){let e=`update:${t}`;this.hasEvtLstnr(e)&&this.emit(e,this.get(t)),this.#e.delete(t)}this.updTimeout=null}get(e){if(!this.#t)throw new Error("State is not loaded");const s=void 0===e?this.#t:t.nested(this.#t,e,null,"get");return s?t.dc(s):s}set(t,e){this.qset(t,e),this.#s(t)}qset(e,s){if(!this.#t)throw new Error("State is not loaded");__o.utils.type(e,"str")&&e.includes(".")?t.nested(this.#t,e,s,"set"):this.#t[e]=Array.isArray(this.#t[e])?[...this.#t[e],...s]:__o.utils.type(s,"obj")?{...this.#t[e],...s}:s}rm(e){if(!this.#t)throw new Error("State is not loaded");__o.utils.type(e,"str")&&e.includes(".")?t.nested(this.#t,e,null,"rm"):delete this.#t[e],this.emitSpecEvt(e,this.#t)}rs(){if(!this.#t)throw new Error("State is not loaded");this.#t=null,this.emit("rs",this.#t)}async ld(t){if(__o.utils.type(t,"str")&&""!==t)try{const e=await fetch(t);this.#t=await e.json()}catch(t){console.error("Error fetching data:",t)}else{if(!__o.utils.type(t,"obj"))throw new Error("Invalid data type. Expected a non-empty string or an object.");this.#t=t}}on(t,e){_c(this).on(t,e),this.#n(t,1)}off(t,e){_c(this).off(t,e),this.#n(t,-1)}emit(t,e){this.dispatchEvent(new CustomEvent(t,{detail:e}))}hasEvtLstnr(t){return this.lstnrs.has(t)&&this.lstnrs.get(t)>0}#n(t,e){this.lstnrs.has(t)||this.lstnrs.set(t,0),this.lstnrs.set(t,this.lstnrs.get(t)+e)}}let e=class t{_(t){return this===r&&console.warn("{ const: _o & fn: _n } is deprecated.\nPlease create a new one instead."),this.el=t,this.fdoc=!1,this.get(),this}#i;get(e,s){let r=e??this.el,{type:n}=t.utils;if(n(r,"inst",HTMLElement)||n(r,"inst",Window)||n(r,"inst",Document))return this.#i=r;if(n(r,"obj"))return this.#i=r;if(n(r,"str")){if(r.search(/^\w+:\/\//g)>-1&&-1==r.search(/\w+\[*\]/g))return;let t,e=this.fdoc?this.fdoc:document,s="querySelector";try{t=e[s](r)}catch(t){t&&console.error(t)}if(t)return this.#i=t}}qy(t){return this.#i=this.#i.querySelector(t),this}all(t,e){var s="querySelectorAll";return Array.from(e?this.get(t)[s](e):this.gt[s](t))}append(e,s){var r=t.utils.type,n=this.mk.bind(this);return r(e,"obj")||r(e,"inst",HTMLElement)?this.gt.appendChild(e):r(e,"emp")?n(this.el,s):r(this.el,"emp")?n(e,s):this.gt.appendChild(n(e,s)),this}mk(e,s){var r,n,i=t=>document.createElement(t),o="obj",l=t.utils.type;return this.el&&!l(this.el,"str")&&l(e,"unu")&&l(s,"unu")?n=i("div"):(n=l(e,o)?i(this.el):i(""==e?this.el:e),l(r=s??e,o)&&t.each(r,"k",(e=>{var s=r[e];"text"==e?n.innerText=s:"html"==e?n.innerHTML=s:"style"==e&&l(s,o)?t.each(s,"k",(t=>n.style[t]=s[t])):n.setAttribute(e,s)}))),n}qyp(t,e=document){let s=this.gt?.parentNode;const r=()=>{if("function"!=typeof s?.matches)return null;let n=s?.matches(t);return!s||s===e&&!n?null:n?s:(s=s.parentNode,r())},n=r();return this.#i=n??null,this}clone(t){return this.gt.cloneNode(t)}static delay(t,e){if("function"==typeof e)return setTimeout(e,t);clearTimeout(t)}delay(e,s){var r=s??this.el,n=t.delay(e,"function"==typeof r?r:0);return n||this}del(t){return t?this.gt.parentNode.removeChild(t):this.gt.remove(),this}attr(e=null,s,r){let n=this.gt;if(t.utils.type(e,"obj"))t.each(e,"e",(([e,s])=>{"text"==e?n.innerText=s:"html"==e?n.innerHTML=s:"style"==e&&t.utils.type(s,"obj")?this.css(s):(null!=s||null!=s)&&n.setAttribute(e,s)}));else if("text"==e){if(void 0===s)return n.innerText;n.innerText=s}else if("html"==e){if(null==s)return n.innerHTML;n.innerHTML=s}else if(r||"r"===r)n.removeAttribute(e);else{if(null==s)return null!=e?this.gat(e):n.attributes;n.setAttribute(e,s)}return this}gat=t=>this.gt.attributes[t]?.value;nattr(e,s,r){let n=this.gt,i=n?.isConnected,o=n?.attributes,l=n[(/^r$/.test(r)?"remove":"set")+"Attribute"].bind(n),a=t.utils.type,u=t=>n.hasOwnProperty(t)||/^\w+[A-Z]\w+$/.test(t);if(a(e,"unu"))return o;let c=t=>"inner"+("html"==t?"HTML":"Text"),h=t=>/^(html|text)$/.test(t);if(a(e,"str")){const t=e;e="r"==r?[t]:{[t]:s}}if(a(e,"obj")&&t.each(e,"e",(([t,e])=>{i&&u(t)?n[t]=e:h(t)?n[c(t)]=e:"class"==t&&a(e,"obj")?this.class(e):"style"==t&&a(e,"obj")?this.css(e):l(t,e)})),a(e,"arr")){if("r"!=r)return e.reduce(((t,e)=>(t[e]=i&&u(e)?n[e]:h(e)?n[c(e)]:o[e]?.value??null,t)),{});e.forEach((t=>l(t)))}return this}static each(e,s,r){const{utils:{type:n}}=t,i=n(e,"arr")||n(e,"set")||n(e,"wSet")||n(e,"map")||n(e,"wMap")||n(e,"obj"),o=t=>{var e=n(s,"str")?r:s;n(e,"fn")&&i&&t.forEach(((t,s)=>e(t,s)))};return n(s,"fn")?o(i&&!e.item?e:Array.prototype.slice.call(e)):n(s,"str")&&o(Object[s+("k"==s?"eys":"v"==s?"alues":"e"==s?"ntries":1)](e)),this}each=t.each;class(e,s,...r){const{utils:{type:n}}=t,i=e,o=t=>/^(add|remove|toggle)$/.test(t),l=this.gt.classList;if(n(i,"str")&&o(i))l[i](s,...r);else{if(!n(i,"obj"))return l;t.each(i,"e",(([t,e])=>o(t)?l[t](...n(e,"arr")?e:[e]):0))}return this}css(e=0,s=null,r){var n=this.gt.style,i=e,o=s,l=t.utils.type;if(0==i&&null==o)return n;if(l(i,"obj"))t.each(i,"e",(t=>n.setProperty(...t)));else if(l(i,"str")&&/:/g.test(i)){let t=i.split(";");for(let e of t){let t=e.indexOf(":"),s=e.substring(0,t).trim().replace(/-([a-z])/g,((t,e)=>e.toUpperCase()));n[s]=e.substring(t+1).trim()}}else if("r"===r)l(i,"str")&&(i=[i]),l(i,"arr")&&i.forEach((t=>n.removeProperty(t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())));else{if(null===o)return n[i];n[i]=o}return this}gcs(e,s=null,r=null){var n=null==r?this.gt:this.get(e),i=null==r?e:s,o=r||s;return t.gcs(n,o,i)}static gcs(e,r=null,n=null){var i=e instanceof t?e:s(e).gt,o=window.getComputedStyle(i,n);return r?o.getPropertyValue(r):o}get rect(){return this.gt.getBoundingClientRect()}hide(t){var e="_o-show",s=t=>this.attr(e,t).css("display",t?"block":"none");return t?"b"==t?s(1):"n"==t&&s(0):s("false"==this.gat(e)?1:0),this}val(t=null){return null!==t&&(this.gt.value=t),null==t?this.gt.value:this}txt(t=null){return null!==t&&(this.gt.textContent=t),null==t?this.gt.textContent:this}on(t,e,s){return this.#o(1,t,e,s)}off(t,e,s){return this.#o(0,t,e,s)}#o(e,s,r,n){const i=(1==e?"add":"remove")+"EventListener",{type:o}=t.utils,l=this.gt;return o(s,"obj")?t.each(s,"e",(([t,e])=>l[i](t,...o(e,"obj")?[e.f??e.fn,e.o??e.opt]:[e,r]))):l[i](s,r,n),this}static hw=t=>{var e="Height",s="Width",r="offset",n="outer",i="inner",o=window,l=(t,e)=>({h:t,w:e});return"e"==t?l(this.gt[r+e],this.gt[r+s]):"o"==t?l(o[n+e],o[n+s]):l(o[i+e],o[i+s])};hw=t.hw;frame(t=null){var e=this.gt.contentWindow??this.gt.contentDocument;return null==t?e:"doc"==t?e.document:("object"==typeof t&&e.document&&(this.fdoc=e.document,t.el&&this.get(t.el)),this)}frameEl(t){return this.#i=window.frameElement,t?this.attr(t):this}parent(t){var e=parent.document;return e?this.fdoc=e:"doc"!=t&&(this.#i=this.gt.parentNode),"doc"==t?e:this}canvas=(t,e)=>this.gt.getContext(t);atl(t){return alert(t),this}static async fetch(e={},s){let{url:r,method:n,body:i,head:o,type:l,username:a,password:u,cb:c}=e,h="headers";const{type:d}=t.utils;s=s??c;const f={method:n??l,headers:o,body:i};let p;a&&u&&(f[h]=f[h]||{},f[h].Authorization="Basic "+btoa(a+":"+u));try{const t=await fetch(r,f),e=t[h].get("content-type");let s=e.includes("application/json")?await t.json():e.includes("text")?await t.text():await t.blob();p={status:t.status,data:s}}catch(t){p={status:0,data:t.message}}if(!d(s,"fn"))return p;s(p)}json(t,e,s=0){throw new Error("use static json (__o.json)\nstop using this inst __o' json method")}static json(e,s,...r){const n=t.utils.type;var i=(t,e)=>{var s=!1;if("s"===t)s=JSON.stringify(e,...r);else if("p"===t)try{s=JSON.parse(e,...r)}catch(t){}return s};return n(e,"obj")||n(e,"arr")?i("s",e):n(e,"str")?"p"!=e&&"s"!=e||n(s,"unu")?i("p",e):i(e,s):void 0}open(t=null,e=null){var s=null==t||""!=t?t:"_blank",r=null==t&&""!=e?e:null;window.open(this.el,s,r)}get gt(){return this.#i}static mkEl=(t,e,...s)=>({type:t,props:e||{},children:s||[]});static mknode(e,r){const{utils:{type:n},log:i,_pEl:o}=t,l=(t,e)=>t.map((t=>e+t)),a=["svg","path","circle","clipPath","defs","desc","ellipse","g","image","use","symbol","text","tspan","foreignObject","line","marker","mask","metadata","pattern","polygon","polyline","rect",...l(["","path"],"hatch"),...l(["","Motion","Transform"],"animate"),...l(["Blend","ColorMatrix","ComponentTransfer","Composite","ConvolveMatrix","DiffuseLighting","DisplacementMap","DistantLight","DropShadow","Flood","GaussianBlur","Image","Morphology","Offset","PointLight",...l(["A","B","G","R"],"Func"),...l(["","Node"],"Merge")],"fe")],u="Element",c=(t="",...e)=>document[`create${t}`](...e);const h=t=>/^(forceUpdate|children|id|class(Name|))$/.test(t);return function t(e){if(n(e,"unu"))return null;if(n(e,"str")||n(e,"num"))return c("TextNode",e);r&&i("__o.mknode_svg",e.type,a.indexOf(e.type));const l=o(e),{t:d,c:f,i:p}=l;r&&i("__o.mknode_p: ","el:",d,"c:",f,"i:",p);const m=c(...a.indexOf(d)>-1?[u+"NS","http://www.w3.org/2000/svg"]:[u],l.t);return function(t,e,r){let n={},i={},o={},l=s(e);e.__listen||(e.__listen={});["id","class"].forEach((t=>r[t[0]]?i[t]=r[t[0]]:0));for(const[s,i]of Object.entries(t))if(/^on/.test(s))o[s.slice(2).toLowerCase()]=e.__listen[s]=i;else if("textarea"==r.t&&"value"==s)l.val(i);else{if(h(s))continue;n[s]=i}l.nattr({...n,...i}).on(o)}(e.props,m,l),e.children&&m.append(...e.children.map(t).filter((t=>!!t))),m}(e)}static _pEl(e){const{utils:{type:s},log:r}=t;let n,i,o,l,a;const u=(s(e,"obj")?e.type:e)?.match(/([.#]?[\w-]+)(?![^\[]*\])/g);if(u){for(const t of u)t.startsWith("#")?o=t.slice(1):t.startsWith(".")?i=i?`${i} ${t.slice(1)}`:t.slice(1):n=t;return s(e,"obj")&&e.props&&(a=e.props,l=a.class?a.class:l,l=a.className?`${l?l+" ":""}${a.className}`:l,i=i?`${i}${l?" "+l:""}`:l,o=o??a.id),{t:n||"div",c:i,i:o}}}static cssvar(e=null,r=null,n=":root"){if(!e)return;const{utils:{type:i}}=t,o=(n?.gt??s(n).gt).style,l="etProperty",a=i(e,"obj"),u=i(e,"arr"),c=`g${l}Value`,h=`s${l}`;let d;return a?t.each(e,"e",(([t,e],s)=>o[h](`--${t}`,e))):d=u?e.reduce(((t,e)=>({...t,[e]:o[c](`--${e}`)})),{}):o[r?h:c](`--${e}`,r),d??this}cssvar(e=null,s=null){const r=t.cssvar(e,s,this);return r==t?this:r}static log=console.log.bind(console);constructor(t){null!=t&&this._(t)}};function s(t){return new e(t)}e.l=e.log,(async t=>{if(!t)throw new Error("util requires extens {./core.js}");t.utils={ider(){var t=()=>Math.floor(484*(1+Math.random())).toString(16).substring(1);return t()+t()+"-"+t()},math:{th:t=>1e3*(t??1),rNum(t,e,s){let r=Math.random()*(e-t)+t;return s?r:Math.floor(r)},per:{to:(t,e,s)=>s/(t-e)*100,from:(t,e,s)=>s/100*(t-e)},round(t,e,s=1){const r=Math.pow(10,e);return(1!==s?Math.floor(t*r):Math.ceil(t*r))/r}},Time:{delay(t,e,s){let{th:r,rNum:n}=__o.utils.math;return new Promise((function(i){setTimeout(i,r(e?n(t,e,s):t))}))},fmt(t,e,s=""){let r=__o.utils.type;if(r(t,"str")||r(t,"inst",Date)){const s=r(t,"str")?new Date(t):t;if(!r(s.getTime(),"num"))return;t=s.getTime(),e="ms"}if(!r(t,"num"))throw new Error("Invalid number (dur)");let n,i=Math.floor.bind(Math),o=t=>t<10?`0${t}`:t,l="",a=60,u=1e3,c=u*a,h=1440,d=(t,e)=>{l=t,s=s.replace(e,"")};switch(e){case"n":n=1e-6;break;case"mc":n=1/u;break;case"ms":n=1;break;case"s":n=u;break;case"m":n=c;break;case"h":n=c*a;break;case"d":n=c*h;break;case"mn":n=c*h*30;break;case"y":n=c*h*30*12;break;default:return}const f=t*n,p=i(f/u),m=i(p/a),y=i(m/a),g=i(y/24),w=i(g/30),b=i(w/12),v=o(b),$=o(w%12),_=o(g%30),j=o(y%24),E=o(m%a),T=o(p%a),x=o(i(f%u));switch(s.endsWith(".ms")&&d(`.${x}`,".ms"),s.endsWith(":s")&&d(":"+T+l,"s"),s){case"ms":return f;case"s":return f/u;case"m":return p/a;case"h":return m/a;case"d":return y/24;case"mn":return g/30;case"y":return w/12;case"m:":return`${o(m)}${l}`;case"h:m:":return`${o(y)}:${E}${l}`;case"d:h:m:":return`${o(g)}:${j}:${E}${l}`;case"mn:d:h:m:":return`${o(w)}:${_}:${j}:${E}${l}`;case"y:mn:d:h:m:":return`${v}:${$}:${_}:${j}:${E}${l}`;case"y:mn:d:h:m":return`${v}:${$}:${_}:${j}:${E}`;case"y:mn:d:h":return`${v}:${$}:${_}:${j}`;case"y:mn:d":return`${v}:${$}:${_}`;case"y:mn":return`${v}:${$}`;case"auto":return[[b,v],[w,$],[g,_],[y,j],[m,E],[p,T,"."]].map((t=>((t,e,s=":")=>t>0?e+s:"")(...t))).concat([`${x}`]).join("");default:return{ms:f,s:p,m:m,h:y,d:g,mn:w,y:b,fy:v,fmn:$,fd:_,fh:j,fm:E,fs:T,fms:x}}}},copy(t,e){for(let s of Reflect.ownKeys(e))if("constructor"!==s&&"prototype"!==s&&"name"!==s){let r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,r)}},equal(t,e,s){if(t===e)return!0;if("object"==typeof t&&null!=t&&"object"==typeof e&&null!=e){if(Object.keys(t).length!=Object.keys(e).length)return 1==s&&(t[r]=e[r]);for(var r in t){var n=()=>"string"==typeof e[r]?t[r]=`${e[r]}`:this.copy(t[r],e[r]);if(!e.hasOwnProperty(r))return 1==s&&n();this.equal(t[r],e[r])||1==s&&n()}return!0}return 1==s&&(t=e)},splAr(t=[]){return t.prototype.intersection=t=>{this.filter((e=>t.includes(e)))},t.prototype.difference=t=>{this.filter((e=>!t.includes(e)))},t.prototype.symmetricDifference=t=>{this.filter((e=>!t.includes(e))).concat(t.filter((t=>!this.includes(t))))},t},type(t,e,s){let r,n="number",i="object",o="function",l="string",a="symbol",u=e=>isNaN(t),c=e=>t instanceof e,h=e=>Array.isArray(t),d=null,f=e=>typeof t===e,p=t=>e===t;return p("int")?Number.isInteger(t):p("float")||p(".1")||p(.1)?f(n)&&!u()&&t%1!=0:p("num")||p(n)?f(n)&&!u():p("bigint")?f(t):p("-")?t<0:p("+")?t>0:p("array")||p("arr")?h():p("null")||p("nl")?t===d:p("ud")?t===r:p("unu")?t===d||t===r:p("emp")?t===d||t===r||""===t:p("bool")?f("boolean"):p("str")||p(l)?f(l):p("func")||p("fn")||p(o)?f(o):p("obj")||p(i)?f(i)&&!h()&&t!==d:p("set")?c(Set):p("map")?c(Map):p("wSet")?c(WeakSet):p("wMap")?c(WeakMap):p("inst")?c(s):p("sym")||p(a)?f(a):p("date")?c(Date):p("regexp")||p("rx")?c(RegExp):p("promise")||p("prm")?c(Promise):p("error")||p("err")?c(Error):r}},t.utils.Time.ctime=t.utils.Time.fmt})(e),e._State=t;const r=new e;r.g=r.get,r.l=r.log,r.h=r.hide,r.at=r.attr,r.fr=r.frame,r.make=r.mk,window.__o=e,window._c=s,window._n=function(t){return r._(t)},window._o=r}();