!function(t){"use strict";class e{wa=new(window.AudioContext||window.webkitAudioContext);get dest(){return this.wa.destination}mkMe(t,e=_c().ider(),i){var s=this.wa.createMediaElementSource(t);return i&&s.connect(i),this.#t[this.#e("meEl")][e]=s,s}#t={};get stat(){return this.#t}mkSt=(t=_c().ider(),e)=>this.#t[this.#e("mStrm")][t]=this.wa.createMediaStreamSource(e);mkStD=()=>this.mStrmD=this.wa.createMediaStreamDestination();mkGn=(t=_c().ider())=>this.#t[this.#e("gain")][t]=this.wa.createGain();mkAn=(t=_c().ider())=>this.#t[this.#e("aysr")][t]=this.wa.createAnalyser();mkPan=(t=_c().ider())=>this.#t[this.#e("stPan")][t]=this.wa.createStereoPanner();mkDe=(t,e=_c().ider())=>this.#t[this.#e("delay")][e]=this.wa.createDelay(t);mkComp=(t=_c().ider())=>this.#t[this.#e("comp")][t]=this.wa.createDynamicsCompressor();mkRev=(t=_c().ider())=>this.#t[this.#e("reverb")][t]=this.wa.createConvolver();mkBiF=(t=_c().ider())=>this.#t[this.#e("eq")][t]=this.wa.createBiquadFilter();mkOsc=(t=_c().ider())=>this.#t[this.#e("osc")][t]=this.wa.createOscillator();mkWvSh=(t=_c().ider())=>this.#t[this.#e("wave")][t]=this.wa.createWaveShaper();mkChSpl=(t,e=_c().ider())=>this.#t[this.#e("split")][e]=this.wa.createChannelSplitter(t);mkChMgr=(t,e=_c().ider())=>this.#t[this.#e("merge")][e]=this.wa.createChannelMerger(t);cD=t=>t.connect(this.dest);dcD=t=>t.disconnect(this.dest);resume=()=>this.wa.resume();#e(t){return this.#t[t]||(this.#t[t]={}),t}analyser=this.wa.createAnalyser();spector={size:t=>t?this.analyser.fftSize=t:this.analyser.fftSize,data:new Uint8Array(this.analyser.fftSize),fdata:new Float32Array(this.analyser.fftSize),freq:t=>this.analyser.getByteFrequencyData(t||this.spector.data),time:t=>this.analyser.getByteTimeDomainData(t||this.spector.data),timef:t=>this.analyser.getFloatTimeDomainData(t||this.spector.fdata)};mk3dPan(t={}){var e={nm:_c().ider(),model:"HRTF",disModel:"inverse",refDis:1,maxDis:1e4,rolloff:5,coneInA:360,conOA:0,coneOG:0,orX:1,orY:0,orZ:0};Object.keys(t).forEach((i=>e[i]=t[i])),this.h&&this.w||(this.h=()=>Math.floor(__o.hw().h/2),this.w=()=>Math.floor(__o.hw().w/2)),this.pans||(this.pans={});const i=this.wa.createPanner();return i.panningModel=e.model,i.distanceModel=e.disModel,i.refDistance=e.refDis,i.maxDistance=e.maxDis,i.rolloffFactor=e.rolloff,i.coneInnerAngle=e.coneInA,i.coneOuterAngle=e.conOA,i.coneOuterGain=e.coneOG,i.orientationX?(i.orientationX.value=e.orX,i.orientationY.value=e.orY,i.orientationZ.value=e.orZ):i.setOrientation(e.orX,e.orY,e.orZ),i.positionX?(i.positionX.value=this.w(),i.positionY.value=this.h(),i.positionZ.value=300):i.setPosition(this.w(),this.h(),300),this.pans[e.nm]=i}mkltr(t=this.wa){this.h&&this.w||(this.h=()=>Math.floor(_o.wh().h/2),this.w=()=>Math.floor(_o.wh().w/2));var e=this.w(),i=this.h();const s=t.listener;return s.forwardX?(s.forwardX.value=0,s.forwardY.value=0,s.forwardZ.value=-1,s.upX.value=0,s.upY.value=1,s.upZ.value=0):s.setOrientation(0,0,-1,0,1,0),s.positionX?(s.positionX.value=e,s.positionY.value=i,s.positionZ.value=300):s.setPosition(e,i,300),t==this.wa?this.listen=s:s}pan3d(t,e=0,i=0,s=0){var a,o;"string"==typeof t&&(a=this.pans[t],o="object"==typeof e?e:{x:+(this.w()+e),y:+(this.h()+i),z:+(this.listen.positionZ.value+s)},a.positionX?(a.positionX.value=o.x,a.positionY.value=o.y,a.positionZ.value=o.z):a.setPosition(o.x,o.y,o.z))}}(()=>{try{"undefined"!=typeof __o&&(__o.prototype._WA=e)}catch(t){}})(),window._WA=e}();