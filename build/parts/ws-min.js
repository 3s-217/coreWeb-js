!function(t){"use strict";var e=t=>("http:"==location.protocol?"w":"ws")+`s://${t}`;window._ws=class{constructor(t={}){var s=t=>/^\w+:\/\//.test(t);this.lk="object"==typeof t&&t.li?s(t.li)?t.li:""!=t.p&&t.p?`${t.p}://${t.li}`:e(t.li):"string"==typeof t?s(t)?t:e(t):0,this.lk&&(this._w=((...t)=>new WebSocket(...t))(this.lk,t?.ex))}on(t,e){return this.__tev(t,e,1)}off(t,e){return this.__tev(t,e)}__tev(t,e,s){var i=e=>e.test(t),o=i(/op(e|)n/i)?"open":i(/cl(ose|)/i)?"close":i(/m(essage|(s|)g(|s))/i)?"message":i(/err(or|)/i)?"error":0;return o&&_c(this._w)["o"+(s?"n":"ff")](o,e),this}get state(){return this._w.readyState}send=(...t)=>this._w.send(...t);close=()=>this._w.close()}}();