class e{wa=new(window.AudioContext||window.webkitAudioContext);get dest(){return this.wa.destination}mkMe(e,t=_c().ider(),i){var s=this.wa.createMediaElementSource(e);return i&&s.connect(i),this.#e[this.#t("meEl")][t]=s,s}#e={};get stat(){return this.#e}mkSt=(e=_c().ider(),t)=>this.#e[this.#t("mStrm")][e]=this.wa.createMediaStreamSource(t);mkStD=()=>this.mStrmD=this.wa.createMediaStreamDestination();mkGn=(e=_c().ider())=>this.#e[this.#t("gain")][e]=this.wa.createGain();mkAn=(e=_c().ider())=>this.#e[this.#t("aysr")][e]=this.wa.createAnalyser();mkPan=(e=_c().ider())=>this.#e[this.#t("stPan")][e]=this.wa.createStereoPanner();mkDe=(e,t=_c().ider())=>this.#e[this.#t("delay")][t]=this.wa.createDelay(e);mkComp=(e=_c().ider())=>this.#e[this.#t("comp")][e]=this.wa.createDynamicsCompressor();mkRev=(e=_c().ider())=>this.#e[this.#t("reverb")][e]=this.wa.createConvolver();mkBiF=(e=_c().ider())=>this.#e[this.#t("eq")][e]=this.wa.createBiquadFilter();mkOsc=(e=_c().ider())=>this.#e[this.#t("osc")][e]=this.wa.createOscillator();mkWvSh=(e=_c().ider())=>this.#e[this.#t("wave")][e]=this.wa.createWaveShaper();mkChSpl=(e,t=_c().ider())=>this.#e[this.#t("split")][t]=this.wa.createChannelSplitter(e);mkChMgr=(e,t=_c().ider())=>this.#e[this.#t("merge")][t]=this.wa.createChannelMerger(e);cD=e=>e.connect(this.dest);dcD=e=>e.disconnect(this.dest);resume=()=>this.wa.resume();#t(e){return this.#e[e]||(this.#e[e]={}),e}analyser=this.wa.createAnalyser();spector={size:e=>e?this.analyser.fftSize=e:this.analyser.fftSize,data:new Uint8Array(this.analyser.fftSize),fdata:new Float32Array(this.analyser.fftSize),freq:e=>this.analyser.getByteFrequencyData(e||this.spector.data),time:e=>this.analyser.getByteTimeDomainData(e||this.spector.data),timef:e=>this.analyser.getFloatTimeDomainData(e||this.spector.fdata)};mk3dPan(e={}){var t={nm:_c().ider(),model:"HRTF",disModel:"inverse",refDis:1,maxDis:1e4,rolloff:5,coneInA:360,conOA:0,coneOG:0,orX:1,orY:0,orZ:0};Object.keys(e).forEach((i=>t[i]=e[i])),this.h&&this.w||(this.h=()=>Math.floor(__o.hw().h/2),this.w=()=>Math.floor(__o.hw().w/2)),this.pans||(this.pans={});const i=this.wa.createPanner();return i.panningModel=t.model,i.distanceModel=t.disModel,i.refDistance=t.refDis,i.maxDistance=t.maxDis,i.rolloffFactor=t.rolloff,i.coneInnerAngle=t.coneInA,i.coneOuterAngle=t.conOA,i.coneOuterGain=t.coneOG,i.orientationX?(i.orientationX.value=t.orX,i.orientationY.value=t.orY,i.orientationZ.value=t.orZ):i.setOrientation(t.orX,t.orY,t.orZ),i.positionX?(i.positionX.value=this.w(),i.positionY.value=this.h(),i.positionZ.value=300):i.setPosition(this.w(),this.h(),300),this.pans[t.nm]=i}mkltr(e=this.wa){this.h&&this.w||(this.h=()=>Math.floor(_o.wh().h/2),this.w=()=>Math.floor(_o.wh().w/2));var t=this.w(),i=this.h();const s=e.listener;return s.forwardX?(s.forwardX.value=0,s.forwardY.value=0,s.forwardZ.value=-1,s.upX.value=0,s.upY.value=1,s.upZ.value=0):s.setOrientation(0,0,-1,0,1,0),s.positionX?(s.positionX.value=t,s.positionY.value=i,s.positionZ.value=300):s.setPosition(t,i,300),e==this.wa?this.listen=s:s}pan3d(e,t=0,i=0,s=0){var a,o;"string"==typeof e&&(a=this.pans[e],o="object"==typeof t?t:{x:+(this.w()+t),y:+(this.h()+i),z:+(this.listen.positionZ.value+s)},a.positionX?(a.positionX.value=o.x,a.positionY.value=o.y,a.positionZ.value=o.z):a.setPosition(o.x,o.y,o.z))}}(()=>{try{"undefined"!=typeof __o&&(__o.prototype._WA=e)}catch(e){}})();export{e as _WA};