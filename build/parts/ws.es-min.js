var t=t=>("http:"==location.protocol?"w":"ws")+`s://${t}`;class e{constructor(e={}){var s=t=>/^\w+:\/\//.test(t);this.lk="object"==typeof e&&e.li?s(e.li)?e.li:""!=e.p&&e.p?`${e.p}://${e.li}`:t(e.li):"string"==typeof e?s(e)?e:t(e):0,this.lk&&(this._w=((...t)=>new WebSocket(...t))(this.lk,e?.ex))}on(t,e){return this.__tev(t,e,1)}off(t,e){return this.__tev(t,e)}__tev(t,e,s){var o=e=>e.test(t),r=o(/op(e|)n/i)?"open":o(/cl(ose|)/i)?"close":o(/m(essage|(s|)g(|s))/i)?"message":o(/err(or|)/i)?"error":0;return r&&_c(this._w)["o"+(s?"n":"ff")](r,e),this}get state(){return this._w.readyState}send=(...t)=>this._w.send(...t);close=()=>this._w.close()}export{e as _ws};